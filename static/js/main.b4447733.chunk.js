(this.webpackJsonpwrangl=this.webpackJsonpwrangl||[]).push([[0],{68:function(e,a,t){e.exports=t(78)},73:function(e,a,t){},78:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(9),l=t.n(c),o=(t(73),t(105)),i=t(107),u=t(58),s=Object(o.a)((function(e){return{root:{padding:"".concat(e.spacing(1),"px ").concat(e.spacing(2),"px")}}}));function p(){var e=s();return r.a.createElement(i.a,{classes:e,color:"transparent",elevation:0,position:"sticky"},r.a.createElement(u.a,{variant:"h5"},"wrangl"))}var m=t(119),d=t(121),b=t(122),f=t(109),v=t(110),g=t(111),E=t(112),j=t(113),O=t(114),h=t(56),y=t(29),k=t(44),C=t(47),w=t(124),x=t(22),S=t.n(x),D=t(33),T=t(57),P=Object(T.a)("Wrangl",1,{upgrade:function(e){e.createObjectStore("applications",{keyPath:"id"})}}),W=function(e){return Object(D.a)(S.a.mark((function a(){var t,n;return S.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,P;case 2:return t=a.sent,console.log("Creating app"),n=t.transaction("applications","readwrite"),a.next=7,n.objectStore("applications").add(e);case 7:case"end":return a.stop()}}),a)})))()},A=function(){return Object(D.a)(S.a.mark((function e(){var a,t,n,r;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P;case 2:return a=e.sent,console.log("Fetching all apps"),t=a.transaction("applications","readonly"),e.next=7,t.objectStore("applications").openCursor();case 7:n=e.sent,r=[];case 9:if(!n){e.next=16;break}return r.push(n.value),e.next=13,n.continue();case 13:n=e.sent,e.next=9;break;case 16:return e.abrupt("return",r);case 17:case"end":return e.stop()}}),e)})))()};var F=Object(n.createContext)({apps:[],inProgress:!0,create:function(e){},update:function(e,a){},delete:function(e){}});function I(){return Object(n.useContext)(F)}function J(){var e=function(){var e=Object(n.useState)(!0),a=Object(y.a)(e,2),t=a[0],r=a[1],c=Object(n.useState)([]),l=Object(y.a)(c,2),o=l[0],i=l[1];return Object(n.useEffect)((function(){A().then((function(e){i(e),r(!1)}))}),[i,r]),{apps:o,inProgress:t,setApps:i}}(),a=e.apps,t=e.inProgress,r=e.setApps;return{apps:a,inProgress:t,create:Object(n.useCallback)((function(e){var a=function(e){return Object(k.a)({},e,{id:Object(w.a)(),createdTimestamp:(new Date).toISOString()})}(e);r((function(e){return[].concat(Object(h.a)(e),[a])}));try{W(a)}catch(t){}}),[r]),update:Object(n.useCallback)((function(e,a){r((function(t){return Object(C.a)(t,(function(t){var n=t.findIndex((function(a){return a.id===e}));t[n]=a}))}))}),[r]),delete:Object(n.useCallback)((function(e){r((function(a){return Object(C.a)(a,(function(a){var t=a.findIndex((function(a){return a.id===e}));a.splice(t,1)}))}))}),[r])}}function L(e){var a=e.apps;return 0===a.length?r.a.createElement(f.a,null,r.a.createElement(v.a,null,r.a.createElement(g.a,{colSpan:4},"You have not tracked any applications yet"))):r.a.createElement(f.a,null,a.map((function(e){return r.a.createElement(v.a,{key:e.id},r.a.createElement(g.a,null,e.title),r.a.createElement(g.a,null,e.company),r.a.createElement(g.a,null,e.location),r.a.createElement(g.a,null,e.url))})))}function z(){var e=I().apps;return r.a.createElement(E.a,null,r.a.createElement(j.a,null,r.a.createElement(O.a,null,r.a.createElement(v.a,null,r.a.createElement(g.a,null,"Job Title"),r.a.createElement(g.a,null,"Company"),r.a.createElement(g.a,null,"Location"),r.a.createElement(g.a,null,"URL"))),r.a.createElement(L,{apps:e})))}var B=t(125),R=t(115),U=t(116),M=t(117),Y=t(120),$=t(118),q=Object(o.a)((function(e){return{root:{width:"calc(50% - ".concat(e.spacing(1),"px)")}}}));function G(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=Object(n.useState)(e),t=Object(y.a)(a,2),r=t[0],c=t[1],l=Object(n.useCallback)((function(e){var a=e.target.value;c((function(){return a}))}),[c]),o=Object(n.useCallback)((function(){return c((function(){return""}))}),[c]);return{value:r,onChange:l,clearField:o}}function H(e){var a=e.open,t=e.closeDialog,c=I().create,l=q(),o={title:G(),company:G(),location:G(),url:G(),description:G()},i=o.title,u=o.company,s=o.location,p=o.url,m=o.description,f=Object(n.useCallback)((function(){for(var e=0,a=Object.values(o);e<a.length;e++){a[e].clearField()}}),[o]),v=Object(n.useCallback)((function(){c({title:i.value,company:u.value,location:s.value,url:p.value,description:m.value}),t(),f()}),[c,t,f,i.value,u.value,s.value,p.value,m.value]);return r.a.createElement(B.a,{open:a,onClose:t,"aria-labelledby":"create-app-form-title","aria-describedby":"create-app-form-desc"},r.a.createElement(R.a,{id:"create-app-form-title"},"Add new application"),r.a.createElement(U.a,null,r.a.createElement(M.a,{id:"create-app-form-desc"},"Add the details of your job application to start tracking it in the app"),r.a.createElement(Y.a,Object.assign({label:"Job Title",variant:"outlined",autoFocus:!0,fullWidth:!0,margin:"dense"},i)),r.a.createElement(d.a,{display:"flex",justifyContent:"space-between"},r.a.createElement(Y.a,Object.assign({classes:l,label:"Company",variant:"outlined",margin:"dense"},u)),r.a.createElement(Y.a,Object.assign({classes:l,label:"Location",variant:"outlined",margin:"dense"},s))),r.a.createElement(Y.a,Object.assign({label:"URL",variant:"outlined",margin:"dense",fullWidth:!0},p)),r.a.createElement(Y.a,Object.assign({label:"Description",variant:"outlined",margin:"normal",rows:4,multiline:!0,fullWidth:!0},m))),r.a.createElement($.a,null,r.a.createElement(b.a,{color:"secondary",variant:"contained",onClick:t},"Cancel"),r.a.createElement(b.a,{color:"primary",variant:"contained",onClick:v},"Track")))}var K=Object(o.a)((function(e){return{root:{paddingTop:e.spacing(16)}}}));function N(){var e=function(){var e=Object(n.useState)(!1),a=Object(y.a)(e,2),t=a[0],r=a[1];return{open:t,openDialog:Object(n.useCallback)((function(){return r(!0)}),[r]),closeDialog:Object(n.useCallback)((function(){return r(!1)}),[r])}}(),a=e.open,t=e.openDialog,c=e.closeDialog,l=K();return r.a.createElement(m.a,{classes:l},r.a.createElement(d.a,{mb:6},r.a.createElement(d.a,{mb:1},r.a.createElement(u.a,{align:"center",variant:"h2"},"Organize your job search")),r.a.createElement(u.a,{align:"center",variant:"body1"},"Track your applications and receive reminders to follow up")),r.a.createElement(d.a,{display:"flex",justifyContent:"center",mb:16},r.a.createElement(b.a,{disableElevation:!0,color:"primary",variant:"contained",size:"large",onClick:t},"Track your applications")),r.a.createElement(z,null),r.a.createElement(H,{open:a,closeDialog:c}))}var Q=function(){var e=J();return r.a.createElement(F.Provider,{value:e},r.a.createElement(p,null),r.a.createElement(N,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Q,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[68,1,2]]]);
//# sourceMappingURL=main.b4447733.chunk.js.map